!function(a){"use strict";function b(b,c){console.log(a.touchable);var d=a.touchable?"touchstart":"mousedown",e=b.offset();this.opts=c||{},this.ctx=this.opts.context||b,this.pos={left:e.left,top:e.top},this.opts.selector?b.on(d,this.opts.selector,a.proxy(this.start,this)):b.on(d,a.proxy(this.start,this))}function c(){return d&&(d.drag(),window.requestAnimationFrame(c)),!1}var d;b.prototype={constructor:b,start:function(b){var e;d||(this.curEl=a(b.currentTarget),e=this.curEl.offset(),this.curEl.data(e),this.setRevert(e),this.setZIndex(1),this.opts.start&&this.opts.start.call(this.ctx,this.curEl),this.curEl.trigger("draggable:start",[b,this.curEl]),this.setPosition(b),d=this,c()),b.preventDefault(),b.stopPropagation()},stop:function(a){d&&(a.el=this.curEl,this.setZIndex(-1),this.opts.stop&&this.opts.stop.call(this.ctx,this.curEl),this.curEl.trigger("draggable:end",[a,this.curEl]),c(),d=null),a.preventDefault(),a.stopPropagation()},drag:function(){this.curEl.css(this.pos),this.opts.drag&&this.opts.drag.call(this.ctx,this.curEl)},setPosition:function(b){var c=a.getPos(b),d=this.curEl.height(),e=this.curEl.width(),f=this.findOffset();this.pos={left:c.x-e/f,top:c.y-d/f},b.preventDefault(),b.stopPropagation()},setRevert:function(a){this.opts.revert&&!this.curEl.data("revert")&&this.curEl.data({rtop:a.top,rleft:a.left,revert:this.opts.revert})},findOffset:function(){var a=this.curEl.data("width"),b=this.curEl.width();return a>b?2*a/b:2*b/a},setZIndex:function(a){var b=parseInt(this.curEl.css("z-index"),10);this.curEl.css("z-index",b+a)}},a.fn.draggable=function(c){return this.each(function(){var d=a(this),e=d.data("draggable");e||(e=new b(d,c),d.data("draggable",e))})},a(function(){a(document).on("mousemove touchmove mouseup touchend",function(a){if(d){switch(a.type){case"mousemove":case"touchmove":d.setPosition(a);break;case"mouseup":case"touchend":d.stop(a)}a.preventDefault(),a.stopPropagation()}})})}(Zepto),function(a){"use strict";function b(a,b){this.el=a,this.opts=b||{},this.ctx=this.opts.context||this.el}function c(c){var e,f,g=c.el;g&&(f=a.getPos(c),e=d(c,f),e?e.drop(c,f):g.data("revert")&&b.prototype.revert(g)),c.preventDefault(),c.stopPropagation()}function d(b,c){var d,e=b.el;return e.css({display:"none"}),d=a.elementFromPoint(c.x,c.y),e.css({display:"block"}),a(d).data("droppable")}b.prototype.drop=function(b,c){var d=!0,e=a(b.el);this.opts.drop&&(d&=this.opts.drop.call(this.ctx,b,e,this.el,c)),d&&this.el.trigger("droppable:drop",[b,e,this.el,c]),!d&&e.data("revert")&&this.revert(e)},b.prototype.revert=function(b){var c=b.data("rleft"),d=b.data("rtop"),e=b.data("revert");a.isFunction(e)&&e.call(b),b.css({left:c,top:d})},a.fn.droppable=function(c){return this.each(function(){var d=a(this),e=d.data("droppable");e||(e=new b(d,c),d.data("droppable",e))})},a(function(){a(document).on("mouseup touchend",c)})}(Zepto),function(a){function b(b,d){var i=b[h],j=i&&e[i];if(void 0===d)return j||c(b);if(j){if(d in j)return j[d];var k=g(d);if(k in j)return j[k]}return f.call(a(b),d)}function c(b,c,f){var i=b[h]||(b[h]=++a.uuid),j=e[i]||(e[i]=d(b));return void 0!==c&&(j[g(c)]=f),j}function d(b){var c={};return a.each(b.attributes,function(a,b){0===b.name.indexOf("data-")&&(c[g(b.name.replace("data-",""))]=b.value)}),c}var e={},f=a.fn.data,g=a.camelCase,h=a.expando="Zepto"+ +new Date;a.fn.data=function(d,e){return void 0===e?a.isPlainObject(d)?this.each(function(b,e){a.each(d,function(a,b){c(e,a,b)})}):0===this.length?void 0:b(this[0],d):this.each(function(){c(this,d,e)})},a.fn.removeData=function(b){return"string"==typeof b&&(b=b.split(/\s+/)),this.each(function(){var c=this[h],d=c&&e[c];d&&a.each(b,function(){delete d[g(this)]})})}}(Zepto),function(a){"use strict";var b=navigator.userAgent.match(/PhantomJS/);a.touchable=function(){return!!("ontouchstart"in window)&&!b}(),a.getPos=function(b){var c,d={};return a.touchable?(c=b.targetTouches.length?b.targetTouches[0]:b.changedTouches[0],d={x:c.pageX,y:c.pageY}):d={x:b.pageX,y:b.pageY},d};var c=document;a.elementFromPoint=function(a,b){var d=!1,e=window.pageYOffset,f=window.pageXOffset,g=window.innerHeight,h=window.innerWidth;return e>0?d=!c.elementFromPoint(0,e+g-1):f>0&&(d=!c.elementFromPoint(f+h-1,0)),d?c.elementFromPoint(a-f,b-e):c.elementFromPoint(a,b)},window.requestAnimationFrame=function(a,b){for(;a--&&!(b=window["oR0msR0mozR0webkitR0r".split(0)[a]+"equestAnimationFrame"]););return b||function(a){setTimeout(a,15)}}(5)}(Zepto);